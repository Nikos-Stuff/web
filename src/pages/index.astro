---
import { getCollection } from "astro:content"
import PageLayout from "@layouts/PageLayout.astro"
import ArrowCard from "@components/ArrowCard"
import TeamCard from "@components/TeamCard"
import StackCard from "@components/StackCard.astro"
import { SITE, SOCIALS } from "@consts"
import TwinklingStars from "@components/TwinklingStars.astro"
import MeteorShower from "@components/MeteorShower.astro"
import { Image } from 'astro:assets';


import Reviews from "@components/Reviews.astro"



import DynamicTitle from "@components/TitleHeader.astro"

const posts = (await getCollection("blog"))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0,3)

const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0,3)

const teammembers = (await getCollection("team"))
    .filter(teammember => !teammember.data.draft)
    .slice(0,3)

const stack = [
  {
    text: "Lua",
    icon: "lua",
    href: "https://www.lua.org/home.html"
  },
  {
    text: "Astro",
    icon: "astro",
    href: "https://astro.build"
  },
  {
    text: "Javascript",
    icon: "javascript",
    href: "https://www.javascript.com"
  },
  {
    text: "Typescript",
    icon: "typescript",
    href: "https://www.typescriptlang.org"
  },
  {
    text: "PHP",
    icon: "php",
    href: "https://www.php.net"
  }
]
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <script is:inline   src="/js/scroll_animation.js"/>
  <!-- Light Mode: Particles -->
  <div class='absolute inset-0 block dark:hidden'>
    <div id='particles1' class='fixed inset-0'></div>
    <div id='particles2' class='fixed inset-0'></div>
    <div id='particles3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Stars -->
  <div class='absolute inset-0 bg-black hidden dark:block'>
    <div id='stars1' class='fixed inset-0'></div>
    <div id='stars2' class='fixed inset-0'></div>
    <div id='stars3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Twinkling Stars / Metors -->
  <div id="galaxy" class="fixed inset-0">
    <div class="hidden dark:block">
      <TwinklingStars/>
      <MeteorShower/>
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>

  <!-- HERO -->
  <section class="relative h-[2000px] w-full">
    <div id="planetcont" class='animate absolute inset-0 top-3/4 overflow-hidden'>
      <div id="crescent" class='absolute top-0 left-1/2 -translate-x-1/2 w-[250vw] min-h-[100vh] aspect-square rounded-full p-[1px] bg-gradient-to-b from-black/25 dark:from-white/75 from-0% to-transparent to-5%'>
        <div id="planet" class='w-full h-full bg-white dark:bg-black rounded-full p-[1px] overflow-hidden flex justify-center'>
          <div id="blur" class='w-full h-10 rounded-full bg-neutral-900/25 dark:bg-white/25 blur-2xl'/>
        </div>
      </div>
    </div>
    <DynamicTitle/>
  </section>



  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-screen-sm p-5 space-y-24 pb-16">

      <!-- About Section -->
      <section class="animate pt-0 pb-60">
        <article>
          <p><strong>Niko's Stuff</strong> is your gateway to a world of creativity,
            innovation, and shared passion. We are a close-knit community of enthusiasts
            dedicated to exploring ideas, developing projects, and exchanging insights
            Our goal is not only to achieve success but also to embrace challenges and
            take decisive action that yields extraordinary outcomes. Join us on this journey where every idea,
            every project, and every comment contributes to our collective pursuit of excellence and meaningful impact.</p>
        </article>

      </section>

      <!--  Start Your Own Stuff! -->
      <section class="animate">
        <article>
          <div fancy-scroll="true"  class="container h-[15rem] p-4 gap-3 text-left border rounded-lg hover:scale-105 hover:bg-black/5 hover:dark:bg-white/10 border-black/15 dark:border-white/20 transition-all duration-300 ease-in-out relative flex items-center">
            <div class="text-content flex-1">
              <p class="mt-0 mb-0 text-xl md:text-2xl lg:text-3xl font-bold uppercase text-black dark:text-white">
                Start Your Own Stuff
              </p>
              <p class="mt-0 mb-0">
                Want to start your own small business without overpaying?
                Our solutions are tailored just for you, offering adjusted prices to fit your needs!
              </p>
            </div>
            <div class="text-right">
              <p class="text-[4rem] md:text-[5rem] lg:text-[7rem] font-bold text-black dark:text-white mt-0 mb-0">
                ‚úèÔ∏è
              </p>
            </div>
          </div>
        </article>
      </section>

      <!--  Optimization & Design in Mind -->
      <section class="animate">
        <article>
          <div fancy-scroll="true"  class="container h-[15rem] p-4 gap-3 text-left border rounded-lg hover:scale-105 hover:bg-black/5 hover:dark:bg-white/10 border-black/15 dark:border-white/20 transition-all duration-300 ease-in-out relative flex items-center">
            <div class="text-right">
              <p class="text-[4rem] md:text-[5rem] lg:text-[7rem] font-bold text-black dark:text-white mt-0 mb-0">
                üñåÔ∏è
              </p>
            </div>
            <div class="text-content flex-1 ml-4">
              <p class="mt-0 mb-0 text-xl md:text-2xl lg:text-3xl font-bold uppercase text-black dark:text-white">
                Optimized & Beautiful
              </p>
              <p class="mt-0 mb-0">
                We ensure the latest sleek, minimalistic,
                and modern designs for your videos, pages, and more,
                with optimization and readability at the forefront.
              </p>
            </div>
          </div>
        </article>
      </section>

      <!--  Growing and Improving -->
      <section class="animate">
        <article>
          <div fancy-scroll="true"  class="container h-[15rem] p-4 gap-3 text-left border rounded-lg hover:scale-105 hover:bg-black/5 hover:dark:bg-white/10 border-black/15 dark:border-white/20 transition-all duration-300 ease-in-out relative flex items-center">
            <div class="text-content flex-1">
              <p class="mt-0 mb-0 text-xl md:text-2xl lg:text-3xl font-bold uppercase text-black dark:text-white">
                Growing & Improving
              </p>
              <p class="mt-0 mb-0">
                As a fresh team, we are constantly learning and improving.
                We are committed to creating new services and solutions that are useful and suitable for you.
              </p>
            </div>
            <div class="text-right">
              <p class="text-[4rem] md:text-[5rem] lg:text-[7rem] font-bold text-black dark:text-white mt-0 mb-0">
                üìà
              </p>
            </div>
          </div>
        </article>
      </section>

      <!-- Open For You -->
      <section class="animate pb-20">
        <article>
          <div fancy-scroll="true"  class="container h-[15rem] p-4 gap-3 text-left border rounded-lg hover:scale-105 hover:bg-black/5 hover:dark:bg-white/10 border-black/15 dark:border-white/20 transition-all duration-300 ease-in-out relative flex items-center">
            <div class="text-content flex-1">
              <p class="mt-0 mb-0 text-xl md:text-2xl lg:text-3xl font-bold uppercase text-black dark:text-white">
                Open For You
              </p>
              <p class="mt-0 mb-0">
                We are currently looking for developers and other professionals with exceptional skills.
                If you are interested in joining our team,
                please contact us.
              </p>
            </div>
            <div class="text-right">
              <p class="text-[4rem] md:text-[5rem] lg:text-[7rem] font-bold text-black dark:text-white mt-0 mb-0">
                üö™
              </p>
            </div>
          </div>
        </article>
      </section>


      <!--  Review Section -->
      <section class="space-y-4 animate pb-20">
        <p class="font-semibold text-black dark:text-white">
          What Our Members Say
        </p>
        <Reviews/>
      </section>

      <!-- Team Section -->

      <section class="animate">

        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              Meet Our Team
            </p>
            <a href="/team" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                All members
              </span>
            </a>
          </div>
          <ul class="space-y-4 ransition-all duration-300 ease-in-out ">
            {teammembers.map((teammember) => (
                <li>
                  <TeamCard entry={teammember} />
                </li>
            ))}
          </ul>
        </div>

      </section>

      <script is:inline   async src="/js/team_scroll.js"></script>

      <!-- Tech Stack Section -->
      <section class="animate">
        <div class="space-y-4">
          <p class="font-semibold text-black dark:text-white">
            We're dealing with
          </p>
          <div class="flex flex-wrap items-center gap-2 mt-5">
            {stack.map(item => (
                <StackCard
                    text={item.text}
                    icon={item.icon}
                    href={item.href}
                />
            ))}
          </div>
          <!--<div>-->
          <!--  Performing reactivity and statefulness, special guest-->
          <!--  <a href="https://www.solidjs.com/" target="_blank" class="w-fit group underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">-->
          <!--    <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">-->
          <!--      SolidJS-->
          <!--    </span>-->
          <!--  </a>-->
          <!--</div>-->
        </div>
      </section>

      <!-- Blog Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              What's New?
            </p>
            <a href="/blog" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                All posts
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {posts.map((post) => (
              <li>
                <ArrowCard entry={post} />
              </li>
            ))}
          </ul>
        </div>
      </section>

      <!-- Project Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              Fresh Projects
            </p>
            <a href="/projects" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                All projects
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {projects.map((project) => (
              <li>
                <ArrowCard entry={project} />
              </li>
            ))}
          </ul>
        </div>
      </section>

      <!-- Contact Section -->
      <section class="animate">
        <div>
            <p class="font-semibold text-black dark:text-white">
              Let's Connect
            </p>
            <p>
              Reach out to me & us!
            </p>
            <div class="grid grid-cols-4 gap-y-2 mt-4 auto-cols-min">
              {SOCIALS.map(social => (
                <div class="col-span-1 flex items-center gap-1">
                  <span class="whitespace-nowrap truncate">
                    {social.NAME}
                  </span>
                </div>
                <div class="col-span-3 truncate">
                  <a href={social.HREF} target="_blank" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
                    <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                      {social.TEXT}
                    </span>
                  </a>
                </div>
              ))}
          </div>
        </div>
      </section>




      <section class="animate flex justify-center items-center">
        <div class="flex justify-ubetween">
          <a target="_blank" href="https://uptime.betterstack.com" rel="noopener">

              <Image src="/betterstack.webp" alt="BetterStack." width={150} height={150} loading="eager"/>


          </a>
        </div>
      </section>



    </div>
  </div>
</PageLayout>
